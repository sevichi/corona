{"map":{"version":3,"sources":["static/js/main.d8f31128.chunk.js"],"names":["this","push","48","module","exports","__webpack_require__","85","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","mapbox_gl","mapbox_gl_default","DayPickerInput","DayPickerInput_default","makeStyles","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","stateColors","hoverCount","geojsonQuery","useStyles","Object","table","minWidth","newgeojson","geojson","type","features","fillPaint","fill-color","fill-opacity","geojsonList","src_App","_Component","App","_super","props","_this","call","state","data","id","message","intervalIsSet","idToDelete","idToUpdate","objectToUpdate","selectedDay","lng","lat","zoom","hoveredState","hoveredStateCases","hoveredStateDeaths","setDate","newDate","date","Date","setState","getFullYear","getMonth","getDate","getPreviousDate","currentDayInMilli","getTime","previousDate","handleDayChange","getNextDate","nextDate","getDataFromDb","stateDataQuery","dateSelection","fetch","then","json","res","catch","err","console","log","getGeojson","updateGeojson","forEach","st","map","setPaintProperty","properties","name","bind","colorLegend","a","createRef","key","value","d","month","day","year","length","join","formatDate","c","_this2","count","set","_this3","interval","setInterval","cl","current","grades","innerHTML","getColor","i","accessToken","Map","container","style","center","scrollZoom","on","mark","_callee","wrap","_context","prev","next","addSource","addLayer","source","paint","getCanvas","cursor","displayState","stop","clearInterval","classes","createElement","justifyContent","position","top","bottom","width","height","lineHeight","textAlign","color","padding","font","background","boxShadow","zIndex","left","whiteSpace","ref","onDayChange","onClick","component","className","aria-label","align","scope","dat","index","cases","deaths","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","error","render","document","getElementById","URL","origin","addEventListener","concat","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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"},"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{48:function(e,t,a){e.exports=a(85)},85:function(e,t,a){\"use strict\";a.r(t);var n=a(0),o=a.n(n),r=a(12),s=a.n(r),i=a(28),l=a.n(i),c=a(39),h=a(40),u=a(41),p=a(22),f=a(45),d=a(44),g=(a(54),a(29)),m=a.n(g),v=a(42),y=a.n(v),D=(a(82),a(107)),b=a(116),j=a(111),S=a(115),w=a(114),x=a(109),E=a(112),C=a(113),k=a(110),P={},F=0,I=\"/api/getGeojsonData?date=\",N=Object(D.a)({table:{minWidth:400}}),A={geojson:{type:\"FeatureCollection\",features:[]},fillPaint:{\"fill-color\":\"white\",\"fill-opacity\":.7}},H=[];H.push(A);var T=function(e){Object(f.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={data:[],id:0,message:null,intervalIsSet:!1,idToDelete:null,idToUpdate:null,objectToUpdate:null,selectedDay:\"2020-1-20\",geojson:H,lng:5,lat:34,zoom:2,hoveredState:\"Hover over a state\",hoveredStateCases:null,hoveredStateDeaths:null},n.setDate=function(e){var t=e||new Date;n.setState({selectedDay:t.getFullYear()+\"-\"+(t.getMonth()+1)+\"-\"+t.getDate()})},n.getPreviousDate=function(){var e=n.state.selectedDay,t=new Date(e).getTime(),a=new Date(t-864e5);n.handleDayChange(a)},n.getNextDate=function(){var e=n.state.selectedDay,t=new Date(e).getTime(),a=new Date(t+864e5);n.handleDayChange(a)},n.getDataFromDb=function(e,t){fetch(e+t).then((function(e){return e.json()})).then((function(e){return n.setState({data:e.data})})).catch((function(e){return console.log(e)}))},n.getGeojson=function(e,t){fetch(e+t).then((function(e){return e.json()})).then((function(e){n.setState({geojson:e.geojson}),console.log(e)})).catch((function(e){return console.log(e)}))},n.updateGeojson=function(e,t){fetch(e+t).then((function(e){return e.json()})).then((function(e){n.state.geojson.forEach((function(e){n.map.setPaintProperty(e.geojson.features[0].properties.name,\"fill-color\",e.fillPaint[\"fill-color\"]),P[e.geojson.features[0].properties.name]=e.fillPaint[\"fill-color\"]}))}))},n.handleDayChange=n.handleDayChange.bind(Object(p.a)(n)),n.colorLegend=o.a.createRef(),n}return Object(u.a)(a,[{key:\"formatDate\",value:function(e){var t=new Date(e),a=\"\"+(t.getMonth()+1),n=\"\"+t.getDate(),o=t.getFullYear();return a.length<2&&(a=\"0\"+a),n.length<2&&(n=\"0\"+n),[o,a,n].join(\"-\")}},{key:\"handleDayChange\",value:function(e){var t=this.formatDate(e);this.setDate(e),this.getDataFromDb(\"/api/getStateData?date=\",t),this.getGeojson(I,t),this.updateGeojson(I,t)}},{key:\"getColor\",value:function(e){return e>1e4?\"#800026\":e>5e3?\"#BD0026\":e>1e3?\"#E31A1C\":e>500?\"#FC4E2A\":e>100?\"#FD8D3C\":e>10?\"#FEB24C\":e>0?\"#FED976\":\"#FFEDA0\"}},{key:\"displayState\",value:function(e){var t=this;if(e){var a=this.state.data;if(a[0]){var n=a.length,o=!1;a.forEach((function(a){e===a.state&&(t.setState({hoveredState:a.state,hoveredStateCases:\"Cases: \"+a.cases,hoveredStateDeaths:\"Deaths: \"+a.deaths}),o=!0),n--})),0!==n||o||this.setState({hoveredState:e,hoveredStateCases:\"No records for this date\",hoveredStateDeaths:null})}else this.setState({hoveredState:e,hoveredStateCases:\"No records for this date\"})}else this.setState({hoveredState:\"Hover over a state\",hoveredStateCases:null,hoveredStateDeaths:null})}},{key:\"componentDidMount\",value:function(){var e=this,t=this.formatDate(\"2020-1-20\");if(this.getDataFromDb(\"/api/getStateData?date=\",t),this.getGeojson(I,t),!this.state.intervalIsSet){var a=setInterval(this.getDataFromDb(\"/api/getStateData?date=\",t),1e3);this.setState({intervalIsSet:a})}var n=this.colorLegend.current,o=[0,10,100,500,1e3,5e3,1e4];n.innerHTML+='<i style=\"background:'+this.getColor(0)+';width: 18px;height: 16px;position: absolute;float: left;margin-right: 8px;opacity: 0.7;\"></i> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0<br>';for(var r=0;r<o.length;r++)n.innerHTML+='<i style=\"background:'+this.getColor(o[r]+1)+';width: 18px;height: 16px;position: absolute;float: left;margin-right: 8px;opacity: 0.7;\"></i> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+(o[r]+1)+(o[r+1]?\"&ndash;\"+o[r+1]+\"<br>\":\"+\");m.a.accessToken=\"pk.eyJ1Ijoic2V2aWNoaSIsImEiOiJjazlqNzJmeGcxaDFuM2Vud3RjeGFhNDBnIn0.O2duU4NkncmDSjjjzzd5uQ\",this.map=new m.a.Map({container:\"map\",style:\"mapbox://styles/mapbox/dark-v10\",center:[-97,39],zoom:[3],scrollZoom:!1}),this.map.on(\"load\",Object(c.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(I+\"2020-1-20\").then((function(){e.state.geojson.forEach((function(t){P[t.geojson.features[0].properties.name]=t.fillPaint[\"fill-color\"],e.map.addSource(t.geojson.features[0].id,{type:\"geojson\",data:t.geojson}),e.map.addLayer({id:t.geojson.features[0].properties.name,type:\"fill\",source:t.geojson.features[0].id,paint:t.fillPaint}),e.map.on(\"mouseenter\",t.geojson.features[0].properties.name,(function(){++F&&(e.map.getCanvas().style.cursor=\"pointer\"),e.map.setPaintProperty(t.geojson.features[0].properties.name,\"fill-opacity\",.5),e.map.setPaintProperty(t.geojson.features[0].properties.name,\"fill-color\",\"white\"),e.displayState(t.geojson.features[0].properties.name)})),e.map.on(\"mouseleave\",t.geojson.features[0].properties.name,(function(){0===--F&&(e.map.getCanvas().style.cursor=\"\",e.displayState(null)),e.map.setPaintProperty(t.geojson.features[0].properties.name,\"fill-opacity\",.7),e.map.setPaintProperty(t.geojson.features[0].properties.name,\"fill-color\",P[t.geojson.features[0].properties.name])}))}))}));case 2:case\"end\":return t.stop()}}),t)}))))}},{key:\"componentWillUnmount\",value:function(){this.state.intervalIsSet&&(clearInterval(this.state.intervalIsSet),this.setState({intervalIsSet:null}))}},{key:\"render\",value:function(){var e=this.state.data,t=this.state.selectedDay,a=N,n=this.state.hoveredState,r=this.state.hoveredStateCases,s=this.state.hoveredStateDeaths;return o.a.createElement(\"div\",{style:{justifyContent:\"center\"}},o.a.createElement(\"div\",{id:\"map\",style:{position:\"block\",top:0,bottom:0,width:\"99vw\",height:\"75vh\"}}),o.a.createElement(\"div\",{style:{lineHeight:\"18px\",textAlign:\"left\",color:\"#555\",padding:\"6px 8px\",font:\"16px/18px Arial, Helvetica, sans-serif\",background:\"rgba(255,255,255,0.7)\",boxShadow:\"0 0 15px rgba(0,0,0,0.2)\",position:\"absolute\",zIndex:\"1 !important\",top:\"10%\",left:\"2%\",whiteSpace:\"normal\"}},o.a.createElement(\"b\",null,n),r?o.a.createElement(\"div\",{style:{font:\"14px/16px Arial, Helvetica, sans-serif\"}},o.a.createElement(\"em\",null,r)):null,s?o.a.createElement(\"div\",{style:{font:\"14px/16px Arial, Helvetica, sans-serif\"}},o.a.createElement(\"em\",null,s)):null),o.a.createElement(\"div\",{ref:this.colorLegend,style:{lineHeight:\"18px\",textAlign:\"left\",color:\"#555\",padding:\"6px 8px\",font:\"14px/16px Arial, Helvetica, sans-serif\",background:\"rgba(255,255,255,0.7)\",boxShadow:\"0 0 15px rgba(0,0,0,0.2)\",position:\"absolute\",zIndex:\"1 !important\",top:\"50%\",left:\"2%\",whiteSpace:\"normal\"}},o.a.createElement(\"b\",null,\"Number of Cases\"),o.a.createElement(\"br\",null)),o.a.createElement(\"p\",{style:{font:\"16px/18px Arial, Helvetica, sans-serif\"}},\"Day: \",t),o.a.createElement(y.a,{onDayChange:this.handleDayChange,selectedDay:t,value:t,style:{font:\"14px/16px Arial, Helvetica, sans-serif\"}}),o.a.createElement(b.a,{onClick:this.getPreviousDate},\"Previous\"),o.a.createElement(b.a,{onClick:this.getNextDate},\"Next\"),o.a.createElement(x.a,{component:k.a},o.a.createElement(j.a,{className:a.table,\"aria-label\":\"simple table\"},o.a.createElement(E.a,null,o.a.createElement(C.a,null,o.a.createElement(w.a,null,\"State\"),o.a.createElement(w.a,{align:\"right\"},\"Cases\"),o.a.createElement(w.a,{align:\"right\"},\"Deaths\"))),o.a.createElement(S.a,null,e.length<=0?o.a.createElement(C.a,{key:1},o.a.createElement(w.a,{component:\"th\",scope:\"row\"},\"There are no records for this date\")):e.map((function(e,t){return o.a.createElement(C.a,{key:t},o.a.createElement(w.a,{component:\"th\",scope:\"row\"},e.state),o.a.createElement(w.a,{align:\"right\"},e.cases),o.a.createElement(w.a,{align:\"right\"},e.deaths))}))))))}}]),a}(n.Component),O=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){\"installed\"===t.state&&(navigator.serviceWorker.controller?console.log(\"New content is available; please refresh.\"):console.log(\"Content is cached for offline use.\"))}}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}s.a.render(o.a.createElement(T,null),document.getElementById(\"root\")),function(){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var e=\"\".concat(\"\",\"/service-worker.js\");O?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get(\"content-type\").indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):z(e)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ\")}))):z(e)}))}}()}},[[48,1,2]]]);","extractedComments":[]}